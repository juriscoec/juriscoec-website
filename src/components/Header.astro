---
interface Props {
  isTransparent?: boolean
}

const navLinks = [
  { href: '#nosotros', text: 'NOSOTROS' },
  { href: '#servicios', text: 'SERVICIOS' },
  { href: '#equipo', text: 'EQUIPO' },
  { href: '#contacto', text: 'CONTACTO' },
]

const { isTransparent = false } = Astro.props
---

<header
  class={`fixed w-full z-50 transition-colors duration-300 pt-5 ${isTransparent ? 'bg-transparent' : 'bg-light/80 backdrop-blur-sm shadow-sm'}`}
>
  <div class='container mx-auto px-4'>
    <nav class='flex items-center justify-between h-24 md:h-28'>
      <img
        src='/images/logo.png'
        alt='Logo Bufete Legal'
        class='h-16 md:h-20 object-contain'
      />

      <div class='hidden md:flex items-center gap-8'>
        {
          navLinks.map(({ href, text }) => (
            <a
              href={href}
              class='text-white hover:text-primary transition-colors relative group'
            >
              {text}
              <span class='absolute -bottom-1 left-0 w-0 h-0.5 bg-primary group-hover:w-full transition-all duration-300' />
            </a>
          ))
        }
      </div>

      <!-- Menú móvil -->
      <button class='md:hidden text-foreground' aria-label='Menú'>
        <svg
          xmlns='http://www.w3.org/2000/svg'
          class='h-6 w-6'
          fill='none'
          viewBox='0 0 24 24'
          stroke='currentColor'
        >
          <path
            stroke-linecap='round'
            stroke-linejoin='round'
            stroke-width='2'
            d='M4 6h16M4 12h16M4 18h16'></path>
        </svg>
      </button>
    </nav>
  </div>
</header>

<script>
  // Añadir fondo al hacer scroll
  const header = document.querySelector('header')
  const toggleHeaderClass = () => {
    if (window.scrollY > 50) {
      header?.classList.remove('bg-transparent', 'pt-5')
      header?.classList.add('bg-light/80', 'backdrop-blur-sm', 'shadow-sm')
    } else {
      header?.classList.add('bg-transparent', 'pt-5')
      header?.classList.remove('bg-light/80', 'backdrop-blur-sm', 'shadow-sm')
    }
  }

  window.addEventListener('scroll', toggleHeaderClass)
</script>
